<%- include('./partials/header.ejs') %>
<div class="container">
    <div class="row">
        <div class="col-12">
            <div class="bg-light d-flex justify-content-center flex-column align-items-center pt-5 pb-5">
                <h1 class="mt-5 display-4">Omiljeni restorani</h1>
                <p class="mb-5 text-center">Dodajte Vaše omiljene restorane ili izmenite postojeće!</p>
            </div>
        </div>
        <% favRestaurant.forEach(restaurant => { %>
        <div class="col-4">
            <div class="card text-center mt-5">
                <div class="card-header">
                    <%= restaurant.ime %>
                </div>
                <div class="card-body">
                  <h5 class="card-title display-6"><%= restaurant.opis %> </h5>
                  <button 
                  type="button" 
                  class="btn btn-primary btn-sm dugme-za-edit" 
                  data-bs-toggle="modal" 
                  data-bs-target="#exampleModal"
                  data-ime="<%= restaurant.ime %> "
                  data-lokacija="<%= restaurant.lokacija %>"
                  data-opis="<%= restaurant.opis %>"
                  data-restoran-id="<%= restaurant._id %> "
                  >Izmeni</button>
                  <a href="/delete/<%= restaurant._id %>" class="btn btn-danger btn-sm">Obriši</a>
                </div>
                <div class="card-footer text-muted">
                    <%= restaurant.lokacija %>
                </div>
              </div>
        </div>
        <% }) %> 
    </div>
</div>

  
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Izmeni restoran</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form action="/restaurant/single/update" method="post">
            <input type="hidden" id="restoranId" name="_id">
            <div class="mb-3">
                <label class="form-label">Ime</label>
                <input type="text" id="restoranIme" class="form-control" placeholder="Pleasure" name="ime">
            </div>
            <div class="mb-3">
                <label class="form-label">Lokacija</label>
                <input type="text" id="restoranLokacija" class="form-control" placeholder="Nis" name="lokacija">
            </div>
            <div class="mb-3">
                <label  class="form-label">Opis</label>
                <input type="text" class="form-control" id="restoranOpis" name="opis">
            </div>
            <button type="submit" class="btn btn-primary w-100">Izmeni</button>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Zatvori</button>
        </div>
      </div>
    </div>
  </div>

 <!-- jQuery -->
 <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

 <!-- Custom JS -->
 <script src="../js/custom.js"></script>

<%- include('./partials/footer.ejs') %>